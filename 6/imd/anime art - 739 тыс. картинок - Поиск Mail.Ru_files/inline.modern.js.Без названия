!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,c={f:a&&!s.call({1:2},1)?function(t){var e=a(this,t);return!!e&&e.enumerable}:s},u=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,f=function(t){return l.call(t).slice(8,-1)},h="".split,d=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?h.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return d(p(t))},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,e){if(!v(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!v(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},y={}.hasOwnProperty,_=function(t,e){return y.call(t,e)},b=r.document,w=v(b)&&v(b.createElement),C=function(t){return w?b.createElement(t):{}},S=!i&&!o((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})),A=Object.getOwnPropertyDescriptor,E={f:i?A:function(t,e){if(t=g(t),e=m(e,!0),S)try{return A(t,e)}catch(t){}if(_(t,e))return u(!c.f.call(t,e),t[e])}},x=function(t){if(!v(t))throw TypeError(String(t)+" is not an object");return t},O=Object.defineProperty,k={f:i?O:function(t,e,n){if(x(t),e=m(e,!0),x(n),S)try{return O(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},I=i?function(t,e,n){return k.f(t,e,u(1,n))}:function(t,e,n){return t[e]=n,t},T=function(t,e){try{I(r,t,e)}catch(n){r[t]=e}return e},j="__core-js_shared__",R=r[j]||T(j,{}),P=Function.toString;"function"!=typeof R.inspectSource&&(R.inspectSource=function(t){return P.call(t)});var U,L,M,D=R.inspectSource,N=r.WeakMap,F="function"==typeof N&&/native code/.test(D(N)),$=e((function(t){(t.exports=function(t,e){return R[t]||(R[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),G=0,K=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+K).toString(36)},B=$("keys"),H=function(t){return B[t]||(B[t]=V(t))},z={},Q=r.WeakMap;if(F){var q=R.state||(R.state=new Q),J=q.get,W=q.has,X=q.set;U=function(t,e){return e.facade=t,X.call(q,t,e),e},L=function(t){return J.call(q,t)||{}},M=function(t){return W.call(q,t)}}else{var Y=H("state");z[Y]=!0,U=function(t,e){return e.facade=t,I(t,Y,e),e},L=function(t){return _(t,Y)?t[Y]:{}},M=function(t){return _(t,Y)}}var Z,tt,et={set:U,get:L,has:M,enforce:function(t){return M(t)?L(t):U(t,{})},getterFor:function(t){return function(e){var n;if(!v(e)||(n=L(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},nt=e((function(t){var e=et.get,n=et.enforce,o=String(String).split("String");(t.exports=function(t,e,i,s){var a,c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,l=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof e||_(i,"name")||I(i,"name",e),(a=n(i)).source||(a.source=o.join("string"==typeof e?e:""))),t!==r?(c?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=i:I(t,e,i)):u?t[e]=i:T(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||D(this)}))})),rt=r,ot=function(t){return"function"==typeof t?t:void 0},it=function(t,e){return arguments.length<2?ot(rt[t])||ot(r[t]):rt[t]&&rt[t][e]||r[t]&&r[t][e]},st=Math.ceil,at=Math.floor,ct=function(t){return isNaN(t=+t)?0:(t>0?at:st)(t)},ut=Math.min,lt=function(t){return t>0?ut(ct(t),9007199254740991):0},ft=Math.max,ht=Math.min,dt=function(t){return function(e,n,r){var o,i=g(e),s=lt(i.length),a=function(t,e){var n=ct(t);return n<0?ft(n+e,0):ht(n,e)}(r,s);if(t&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},pt={includes:dt(!0),indexOf:dt(!1)}.indexOf,gt=function(t,e){var n,r=g(t),o=0,i=[];for(n in r)!_(z,n)&&_(r,n)&&i.push(n);for(;e.length>o;)_(r,n=e[o++])&&(~pt(i,n)||i.push(n));return i},vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],mt=vt.concat("length","prototype"),yt={f:Object.getOwnPropertyNames||function(t){return gt(t,mt)}},_t={f:Object.getOwnPropertySymbols},bt=it("Reflect","ownKeys")||function(t){var e=yt.f(x(t)),n=_t.f;return n?e.concat(n(t)):e},wt=function(t,e){for(var n=bt(e),r=k.f,o=E.f,i=0;i<n.length;i++){var s=n[i];_(t,s)||r(t,s,o(e,s))}},Ct=/#|\.prototype\./,St=function(t,e){var n=Et[At(t)];return n==Ot||n!=xt&&("function"==typeof e?o(e):!!e)},At=St.normalize=function(t){return String(t).replace(Ct,".").toLowerCase()},Et=St.data={},xt=St.NATIVE="N",Ot=St.POLYFILL="P",kt=St,It=E.f,Tt=function(t,e){var n,o,i,s,a,c=t.target,u=t.global,l=t.stat;if(n=u?r:l?r[c]||T(c,{}):(r[c]||{}).prototype)for(o in e){if(s=e[o],i=t.noTargetGet?(a=It(n,o))&&a.value:n[o],!kt(u?o:c+(l?".":"#")+o,t.forced)&&void 0!==i){if(typeof s==typeof i)continue;wt(s,i)}(t.sham||i&&i.sham)&&I(s,"sham",!0),nt(n,o,s,t)}},jt=r.Promise,Rt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Pt="process"==f(r.process),Ut=it("navigator","userAgent")||"",Lt=r.process,Mt=Lt&&Lt.versions,Dt=Mt&&Mt.v8;Dt?tt=(Z=Dt.split("."))[0]+Z[1]:Ut&&(!(Z=Ut.match(/Edge\/(\d+)/))||Z[1]>=74)&&(Z=Ut.match(/Chrome\/(\d+)/))&&(tt=Z[1]);var Nt=tt&&+tt,Ft=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(Pt?38===Nt:Nt>37&&Nt<41)})),$t=Ft&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Gt=$("wks"),Kt=r.Symbol,Vt=$t?Kt:Kt&&Kt.withoutSetter||V,Bt=function(t){return _(Gt,t)&&(Ft||"string"==typeof Gt[t])||(Ft&&_(Kt,t)?Gt[t]=Kt[t]:Gt[t]=Vt("Symbol."+t)),Gt[t]},Ht=Bt("species"),zt=function(t,e){var n,r=x(t).constructor;return void 0===r||null==(n=x(r)[Ht])?e:Rt(n)},Qt=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Rt(e),this.reject=Rt(n)},qt={f:function(t){return new Qt(t)}},Jt=function(t,e){if(x(t),v(e)&&e.constructor===t)return e;var n=qt.f(t);return(0,n.resolve)(e),n.promise},Wt=!!jt&&o((function(){jt.prototype.finally.call({then:function(){}},(function(){}))}));Tt({target:"Promise",proto:!0,real:!0,forced:Wt},{finally:function(t){var e=zt(this,it("Promise")),n="function"==typeof t;return this.then(n?function(n){return Jt(e,t()).then((function(){return n}))}:t,n?function(n){return Jt(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof jt||jt.prototype.finally||nt(jt.prototype,"finally",it("Promise").prototype.finally);var Xt=k.f,Yt=Bt("toStringTag"),Zt=function(t,e,n){t&&!_(t=n?t:t.prototype,Yt)&&Xt(t,Yt,{configurable:!0,value:e})},te=Bt("species"),ee=function(t){var e=it(t),n=k.f;i&&e&&!e[te]&&n(e,te,{configurable:!0,get:function(){return this}})},ne={},re=Bt("iterator"),oe=Array.prototype,ie=function(t,e,n){if(Rt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},se={};se[Bt("toStringTag")]="z";var ae="[object z]"===String(se),ce=Bt("toStringTag"),ue="Arguments"==f(function(){return arguments}()),le=ae?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ce))?n:ue?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},fe=Bt("iterator"),he=function(t){var e=t.return;if(void 0!==e)return x(e.call(t)).value},de=function(t,e){this.stopped=t,this.result=e},pe=function(t,e,n){var r,o,i,s,a,c,u,l,f=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),g=ie(e,f,1+h+p),v=function(t){return r&&he(r),new de(!0,t)},m=function(t){return h?(x(t),p?g(t[0],t[1],v):g(t[0],t[1])):p?g(t,v):g(t)};if(d)r=t;else{if(o=function(t){if(null!=t)return t[fe]||t["@@iterator"]||ne[le(t)]}(t),"function"!=typeof o)throw TypeError("Target is not iterable");if(void 0!==(l=o)&&(ne.Array===l||oe[re]===l)){for(i=0,s=lt(t.length);s>i;i++)if((a=m(t[i]))&&a instanceof de)return a;return new de(!1)}r=o.call(t)}for(c=r.next;!(u=c.call(r)).done;){try{a=m(u.value)}catch(t){throw he(r),t}if("object"==typeof a&&a&&a instanceof de)return a}return new de(!1)},ge=Bt("iterator"),ve=!1;try{var me=0,ye={next:function(){return{done:!!me++}},return:function(){ve=!0}};ye[ge]=function(){return this},Array.from(ye,(function(){throw 2}))}catch(t){}var _e,be,we,Ce=it("document","documentElement"),Se=/(iphone|ipod|ipad).*applewebkit/i.test(Ut),Ae=r.location,Ee=r.setImmediate,xe=r.clearImmediate,Oe=r.process,ke=r.MessageChannel,Ie=r.Dispatch,Te=0,je={},Re="onreadystatechange",Pe=function(t){if(je.hasOwnProperty(t)){var e=je[t];delete je[t],e()}},Ue=function(t){return function(){Pe(t)}},Le=function(t){Pe(t.data)},Me=function(t){r.postMessage(t+"",Ae.protocol+"//"+Ae.host)};Ee&&xe||(Ee=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return je[++Te]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},_e(Te),Te},xe=function(t){delete je[t]},Pt?_e=function(t){Oe.nextTick(Ue(t))}:Ie&&Ie.now?_e=function(t){Ie.now(Ue(t))}:ke&&!Se?(we=(be=new ke).port2,be.port1.onmessage=Le,_e=ie(we.postMessage,we,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&Ae&&"file:"!==Ae.protocol&&!o(Me)?(_e=Me,r.addEventListener("message",Le,!1)):_e=Re in C("script")?function(t){Ce.appendChild(C("script")).onreadystatechange=function(){Ce.removeChild(this),Pe(t)}}:function(t){setTimeout(Ue(t),0)});var De,Ne,Fe,$e,Ge,Ke,Ve,Be,He={set:Ee,clear:xe},ze=/web0s(?!.*chrome)/i.test(Ut),Qe=E.f,qe=He.set,Je=r.MutationObserver||r.WebKitMutationObserver,We=r.document,Xe=r.process,Ye=r.Promise,Ze=Qe(r,"queueMicrotask"),tn=Ze&&Ze.value;tn||(De=function(){var t,e;for(Pt&&(t=Xe.domain)&&t.exit();Ne;){e=Ne.fn,Ne=Ne.next;try{e()}catch(t){throw Ne?$e():Fe=void 0,t}}Fe=void 0,t&&t.enter()},Se||Pt||ze||!Je||!We?Ye&&Ye.resolve?(Ve=Ye.resolve(void 0),Be=Ve.then,$e=function(){Be.call(Ve,De)}):$e=Pt?function(){Xe.nextTick(De)}:function(){qe.call(r,De)}:(Ge=!0,Ke=We.createTextNode(""),new Je(De).observe(Ke,{characterData:!0}),$e=function(){Ke.data=Ge=!Ge}));var en,nn,rn,on,sn,an=tn||function(t){var e={fn:t,next:void 0};Fe&&(Fe.next=e),Ne||(Ne=e,$e()),Fe=e},cn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},un=He.set,ln=Bt("species"),fn="Promise",hn=et.get,dn=et.set,pn=et.getterFor(fn),gn=jt,vn=r.TypeError,mn=r.document,yn=r.process,_n=it("fetch"),bn=qt.f,wn=bn,Cn=!!(mn&&mn.createEvent&&r.dispatchEvent),Sn="function"==typeof PromiseRejectionEvent,An="unhandledrejection",En=kt(fn,(function(){if(!(D(gn)!==String(gn))){if(66===Nt)return!0;if(!Pt&&!Sn)return!0}if(Nt>=51&&/native code/.test(gn))return!1;var t=gn.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[ln]=e,!(t.then((function(){}))instanceof e)})),xn=En||!function(t,e){if(!e&&!ve)return!1;var n=!1;try{var r={};r[ge]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){gn.all(t).catch((function(){}))})),On=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},kn=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;an((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var s,a,c,u=n[i++],l=o?u.ok:u.fail,f=u.resolve,h=u.reject,d=u.domain;try{l?(o||(2===t.rejection&&Rn(t),t.rejection=1),!0===l?s=r:(d&&d.enter(),s=l(r),d&&(d.exit(),c=!0)),s===u.promise?h(vn("Promise-chain cycle")):(a=On(s))?a.call(s,f,h):f(s)):h(r)}catch(t){d&&!c&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Tn(t)}))}},In=function(t,e,n){var o,i;Cn?((o=mn.createEvent("Event")).promise=e,o.reason=n,o.initEvent(t,!1,!0),r.dispatchEvent(o)):o={promise:e,reason:n},!Sn&&(i=r["on"+t])?i(o):t===An&&function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Tn=function(t){un.call(r,(function(){var e,n=t.facade,r=t.value;if(jn(t)&&(e=cn((function(){Pt?yn.emit("unhandledRejection",r,n):In(An,n,r)})),t.rejection=Pt||jn(t)?2:1,e.error))throw e.value}))},jn=function(t){return 1!==t.rejection&&!t.parent},Rn=function(t){un.call(r,(function(){var e=t.facade;Pt?yn.emit("rejectionHandled",e):In("rejectionhandled",e,t.value)}))},Pn=function(t,e,n){return function(r){t(e,r,n)}},Un=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,kn(t,!0))},Ln=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw vn("Promise can't be resolved itself");var r=On(e);r?an((function(){var n={done:!1};try{r.call(e,Pn(Ln,n,t),Pn(Un,n,t))}catch(e){Un(n,e,t)}})):(t.value=e,t.state=1,kn(t,!1))}catch(e){Un({done:!1},e,t)}}};En&&(gn=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,gn,fn),Rt(t),en.call(this);var e=hn(this);try{t(Pn(Ln,e),Pn(Un,e))}catch(t){Un(e,t)}},(en=function(t){dn(this,{type:fn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)nt(t,r,e[r],n);return t}(gn.prototype,{then:function(t,e){var n=pn(this),r=bn(zt(this,gn));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Pt?yn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&kn(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),nn=function(){var t=new en,e=hn(t);this.promise=t,this.resolve=Pn(Ln,e),this.reject=Pn(Un,e)},qt.f=bn=function(t){return t===gn||t===rn?new nn(t):wn(t)},"function"==typeof jt&&(on=jt.prototype.then,nt(jt.prototype,"then",(function(t,e){var n=this;return new gn((function(t,e){on.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof _n&&Tt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Jt(gn,_n.apply(r,arguments))}}))),Tt({global:!0,wrap:!0,forced:En},{Promise:gn}),Zt(gn,fn,!1),ee(fn),rn=it(fn),Tt({target:fn,stat:!0,forced:En},{reject:function(t){var e=bn(this);return e.reject.call(void 0,t),e.promise}}),Tt({target:fn,stat:!0,forced:En},{resolve:function(t){return Jt(this,t)}}),Tt({target:fn,stat:!0,forced:xn},{all:function(t){var e=this,n=bn(e),r=n.resolve,o=n.reject,i=cn((function(){var n=Rt(e.resolve),i=[],s=0,a=1;pe(t,(function(t){var c=s++,u=!1;i.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,i[c]=t,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=bn(e),r=n.reject,o=cn((function(){var o=Rt(e.resolve);pe(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),"function"!=typeof Promise.prototype.finally&&(Promise.prototype.finally=function(t){return this.then((e=>this.constructor.resolve(t()).then((()=>e)))).catch((e=>this.constructor.resolve(t()).then((()=>{throw e}))))}),window.__knownBlocker=!!function(){try{const t=["OPR","n !im","sByTa","1003447LuLqWg","dow","sibil","ing","Opera","style","565qdizXE","getEl","232331sDoJoU","18LCDgxI","cssTe","8949RXqNfR","s: 43","play:","porta","nt; o","tInto","Conte","mport","1gfBELn","ock","getOw","textC","toStr","ntWin","ement","sheet","ortan","injec","lengt","hidde","ant; ","nProp","ptor","dbl","type","89029nRIyjx","ertyD","index","get","1153xndIzo","349hFSaxZ","3toLzmo"," none","gName","conte","proto","1DNflRb","1153390UmUDUA","8264wGiSvY"];function e(e,n){return t[e-=493]}return function(t,n){const r=e;for(;;)try{if(700794===-parseInt(r(504))*parseInt(r(505))+parseInt(r(497))*-parseInt(r(516))+parseInt(r(510))*-parseInt(r(529))+parseInt(r(518))*parseInt(r(499))+parseInt(r(521))*-parseInt(r(519))+parseInt(r(493))+parseInt(r(506))*parseInt(r(498)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(t),function(){const t=e,n="a"+t(544)+t(530),r=Object[t(531)+t(542)+t(494)+"escri"+t(543)](HTMLIFrameElement[t(503)+t(545)],t(502)+t(534)+"dow");if(r&&r[t(496)]){if(-1!==r[t(496)][t(533)+t(513)]()[t(495)+"Of"](t(538)+t(526)+t(527)+t(534)+t(511)))return n}const o=navigator.userAgent;if(-1!==o[t(495)+"Of"](t(514))||-1!==o[t(495)+"Of"](t(507))){const e=document[t(517)+t(535)+t(509)+t(501)]("head")[0];if(e){const r=e[t(517)+"ement"+t(509)+t(501)](t(515));for(let e=0,o=r[t(539)+"h"];e<o;e++)try{const o=r[e];if(o&&!o[t(532)+"ontent"]&&o[t(536)]){const e=o.sheet.rules;if(e)for(let r=0,o=e.length;r<o;r++)try{if(-1!==e[r][t(520)+"xt"].indexOf("{ dis"+t(523)+t(500)+" !imp"+t(537)+"t; vi"+t(512)+"ity: "+t(540)+t(508)+t(524)+t(525)+"rphan"+t(522)+"21 !i"+t(528)+t(541)+"}"))return n}catch(t){}}}catch(t){}}}}()}catch(t){}}(),function(t){t.Default="default",t.Grey="grey",t.Dark="dark"}(sn||(sn={}));const Mn="ru_RU";var Dn,Nn=Object.keys||function(t){return gt(t,vt)},Fn=i?Object.defineProperties:function(t,e){x(t);for(var n,r=Nn(e),o=r.length,i=0;o>i;)k.f(t,n=r[i++],e[n]);return t},$n=H("IE_PROTO"),Gn=function(){},Kn=function(t){return"<script>"+t+"</"+"script>"},Vn=function(){try{Dn=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Vn=Dn?function(t){t.write(Kn("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Dn):((e=C("iframe")).style.display="none",Ce.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Kn("document.F=Object")),t.close(),t.F);for(var n=vt.length;n--;)delete Vn.prototype[vt[n]];return Vn()};z[$n]=!0;var Bn=Object.create||function(t,e){var n;return null!==t?(Gn.prototype=x(t),n=new Gn,Gn.prototype=null,n[$n]=t):n=Vn(),void 0===e?n:Fn(n,e)},Hn=Bt("unscopables"),zn=Array.prototype;null==zn[Hn]&&k.f(zn,Hn,{configurable:!0,value:Bn(null)});var Qn,qn,Jn,Wn=function(t){zn[Hn][t]=!0},Xn=function(t){return Object(p(t))},Yn=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Zn=H("IE_PROTO"),tr=Object.prototype,er=Yn?Object.getPrototypeOf:function(t){return t=Xn(t),_(t,Zn)?t[Zn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?tr:null},nr=Bt("iterator"),rr=!1;[].keys&&("next"in(Jn=[].keys())?(qn=er(er(Jn)))!==Object.prototype&&(Qn=qn):rr=!0);var or=null==Qn||o((function(){var t={};return Qn[nr].call(t)!==t}));or&&(Qn={}),_(Qn,nr)||I(Qn,nr,(function(){return this}));var ir={IteratorPrototype:Qn,BUGGY_SAFARI_ITERATORS:rr},sr=ir.IteratorPrototype,ar=function(){return this},cr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return x(n),function(t){if(!v(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),ur=ir.IteratorPrototype,lr=ir.BUGGY_SAFARI_ITERATORS,fr=Bt("iterator"),hr="keys",dr="values",pr="entries",gr=function(){return this},vr="Array Iterator",mr=et.set,yr=et.getterFor(vr),_r=function(t,e,n,r,o,i,s){!function(t,e,n){var r=e+" Iterator";t.prototype=Bn(sr,{next:u(1,n)}),Zt(t,r,!1),ne[r]=ar}(n,e,r);var a,c,l,f=function(t){if(t===o&&v)return v;if(!lr&&t in p)return p[t];switch(t){case hr:case dr:case pr:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,p=t.prototype,g=p[fr]||p["@@iterator"]||o&&p[o],v=!lr&&g||f(o),m="Array"==e&&p.entries||g;if(m&&(a=er(m.call(new t)),ur!==Object.prototype&&a.next&&(er(a)!==ur&&(cr?cr(a,ur):"function"!=typeof a[fr]&&I(a,fr,gr)),Zt(a,h,!0))),o==dr&&g&&g.name!==dr&&(d=!0,v=function(){return g.call(this)}),p[fr]!==v&&I(p,fr,v),ne[e]=v,o)if(c={values:f(dr),keys:i?v:f(hr),entries:f(pr)},s)for(l in c)(lr||d||!(l in p))&&nt(p,l,c[l]);else Tt({target:e,proto:!0,forced:lr||d},c);return c}(Array,"Array",(function(t,e){mr(this,{type:vr,target:g(t),index:0,kind:e})}),(function(){var t=yr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");ne.Arguments=ne.Array,Wn("keys"),Wn("values"),Wn("entries");var br={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},wr=Bt("iterator"),Cr=Bt("toStringTag"),Sr=_r.values;for(var Ar in br){var Er=r[Ar],xr=Er&&Er.prototype;if(xr){if(xr[wr]!==Sr)try{I(xr,wr,Sr)}catch(t){xr[wr]=Sr}if(xr[Cr]||I(xr,Cr,Ar),br[Ar])for(var Or in _r)if(xr[Or]!==_r[Or])try{I(xr,Or,_r[Or])}catch(t){xr[Or]=_r[Or]}}}const kr=()=>{};class Ir{constructor(){this._events=new Map,this._oneTimeEvents=new Map}getListenersNumber(t){return[...this._events.get(t)||[],...this._oneTimeEvents.get(t)||[]].length}on(t,e){const n=[...this._events.get(t)||[],e];return this._events.set(t,n),this}removeListener(t,e){const n=(this._events.get(t)||[]).filter((t=>t!==e));return this._events.set(t,n),this}once(t,e){const n=[...this._oneTimeEvents.get(t)||[],e];return this._oneTimeEvents.set(t,n),this}emit(t,e,n){const r=e||kr;(this._events.get(t)||[]).forEach((t=>t({data:n},r)));return(this._oneTimeEvents.get(t)||[]).forEach((t=>t({data:n},r))),this._oneTimeEvents.delete(t),this}static relay(t,e,n){t.forEach((t=>{e.on(t,(()=>{n.emit(t)}))}))}}class Tr extends Ir{constructor(){super(),this._eventsData=new Map}on(t,e){return super.on(t,e),this._executeListenerIfHasData(t,e),this}removeListener(t,e){return super.removeListener(t,e),this.getListenersNumber(t)||this._eventsData.delete(t),this}emit(t,e,n){return super.emit(t,e,n),this._eventsData.set(t,n),this}_executeListenerIfHasData(t,e){const n=this._eventsData.get(t);n&&e({data:n},kr)}}const jr=/\.devmail\.ru$/.test(window.location.host),Rr=".devmail.ru",Pr=jr?Rr:".mail.ru";var Ur,Lr,Mr,Dr,Nr,Fr;!function(t){t.BUILD="2.79.1",t.MODERN_BROWSERS_REGEXP=/(Edge\/(79(?:\.0)?|79(?:\.([1-9]|\d{2,}))?|([8-9]\d|\d{3,})(?:\.\d+)?|83(?:\.0)?|83(?:\.([1-9]|\d{2,}))?|(8[4-9]|9\d|\d{3,})(?:\.\d+)?))|((Chromium|Chrome)\/(61\.0|61\.([1-9]|\d{2,})|(6[2-9]|[7-9]\d|\d{3,})\.\d+|83\.0|83\.([1-9]|\d{2,})|(8[4-9]|9\d|\d{3,})\.\d+)(?:\.\d+)?)|(Version\/(13\.0|13\.([1-9]|\d{2,})|(1[4-9]|[2-9]\d|\d{3,})\.\d+|14\.0|14\.([1-9]|\d{2,})|(1[5-9]|[2-9]\d|\d{3,})\.\d+|15\.0|15\.([1-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})\.\d+)(?:\.\d+)? Safari\/)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)\.\d+)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)(pre|[ab]\d+[a-z]*)?)/}(Ur||(Ur={})),function(t){t.AccountDataUpdate="accountDataUpdate",t.UpdateCounterMail="updateCounterMail",t.UpdateCounterLove="updateCounterLove",t.UpdateCounterGames="updateCounterGames",t.UpdateCounterOK="updateCounterOK",t.UpdateCounterVK="updateCounterVK",t.UpdateCounterMoyMir="updateCounterMoyMir"}(Lr||(Lr={})),function(t){t.VisibilityChange="visibilitychange",t.AuthChange="authChange",t.AuthLost="authLost",t.BeforeLogout="beforeLogout",t.Update="update",t.LoginRequest="loginRequest",t.RegisterRequest="registerRequest",t.ColorThemeChange="colorThemeChange",t.InvalidServerSideAuth="invalidServerSideAuth",t.LangChange="langChange"}(Mr||(Mr={})),function(t){t.Show="show",t.Hide="hide"}(Dr||(Dr={})),function(t){t.Show="show",t.Hide="hide",t.Load="load",t.Focus="focus"}(Nr||(Nr={})),function(t){t.Show="show",t.Hide="hide"}(Fr||(Fr={}));var $r=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.createElement("script"),r=document.querySelector("head");function o(){r.appendChild(n)}return e&&(n.defer=!0,n.async=!0),n.src=t,"opera"in window&&"complete"!==document.readyState?window.addEventListener("DOMContentLoaded",o):o(),n},Gr=k.f,Kr=r.Symbol;if(i&&"function"==typeof Kr&&(!("description"in Kr.prototype)||void 0!==Kr().description)){var Vr={},Br=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Br?new Kr(t):void 0===t?Kr():Kr(t);return""===t&&(Vr[e]=!0),e};wt(Br,Kr);var Hr=Br.prototype=Kr.prototype;Hr.constructor=Br;var zr=Hr.toString,Qr="Symbol(test)"==String(Kr("test")),qr=/^Symbol\((.*)\)[^)]+$/;Gr(Hr,"description",{configurable:!0,get:function(){var t=v(this)?this.valueOf():this,e=zr.call(t);if(_(Vr,t))return"";var n=Qr?e.slice(7,-1):e.replace(qr,"$1");return""===n?void 0:n}}),Tt({global:!0,forced:!0},{Symbol:Br})}var Jr=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))},Wr=[],Xr=Wr.sort,Yr=o((function(){Wr.sort(void 0)})),Zr=o((function(){Wr.sort(null)})),to=Jr("sort");Tt({target:"Array",proto:!0,forced:Yr||!Zr||!to},{sort:function(t){return void 0===t?Xr.call(Xn(this)):Xr.call(Xn(this),Rt(t))}});var eo=function(){var t=x(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function no(t,e){return RegExp(t,e)}var ro={UNSUPPORTED_Y:o((function(){var t=no("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:o((function(){var t=no("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},oo=RegExp.prototype.exec,io=$("native-string-replace",String.prototype.replace),so=oo,ao=function(){var t=/a/,e=/b*/g;return oo.call(t,"a"),oo.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),co=ro.UNSUPPORTED_Y||ro.BROKEN_CARET,uo=void 0!==/()??/.exec("")[1];(ao||uo||co)&&(so=function(t){var e,n,r,o,i=this,s=co&&i.sticky,a=eo.call(i),c=i.source,u=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",a)),uo&&(n=new RegExp("^"+c+"$(?!\\s)",a)),ao&&(e=i.lastIndex),r=oo.call(s?n:i,l),s?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:ao&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),uo&&r&&r.length>1&&io.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var lo=so;Tt({target:"RegExp",proto:!0,forced:/./.exec!==lo},{exec:lo});var fo=Bt("species"),ho=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),po="$0"==="a".replace(/./,"$0"),go=Bt("replace"),vo=!!/./[go]&&""===/./[go]("a","$0"),mo=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),yo=function(t){return function(e,n){var r,o,i=String(p(e)),s=ct(n),a=i.length;return s<0||s>=a?t?"":void 0:(r=i.charCodeAt(s))<55296||r>56319||s+1===a||(o=i.charCodeAt(s+1))<56320||o>57343?t?i.charAt(s):r:t?i.slice(s,s+2):o-56320+(r-55296<<10)+65536}},_o={codeAt:yo(!1),charAt:yo(!0)}.charAt,bo=function(t,e,n){return e+(n?_o(t,e).length:1)},wo=Math.floor,Co="".replace,So=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Ao=/\$([$&'`]|\d{1,2})/g,Eo=function(t,e,n,r,o,i){var s=n+t.length,a=r.length,c=Ao;return void 0!==o&&(o=Xn(o),c=So),Co.call(i,c,(function(i,c){var u;switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(s);case"<":u=o[c.slice(1,-1)];break;default:var l=+c;if(0===l)return i;if(l>a){var f=wo(l/10);return 0===f?i:f<=a?void 0===r[f-1]?c.charAt(1):r[f-1]+c.charAt(1):i}u=r[l-1]}return void 0===u?"":u}))},xo=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(t))throw TypeError("RegExp#exec called on incompatible receiver");return lo.call(t,e)},Oo=Math.max,ko=Math.min;!function(t,e,n,r){var i=Bt(t),s=!o((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=s&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[fo]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!s||!a||"replace"===t&&(!ho||!po||vo)||"split"===t&&!mo){var c=/./[i],u=n(i,""[t],(function(t,e,n,r,o){return e.exec===lo?s&&!o?{done:!0,value:c.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:po,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:vo}),l=u[0],f=u[1];nt(String.prototype,t,l),nt(RegExp.prototype,i,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}r&&I(RegExp.prototype[i],"sham",!0)}("replace",2,(function(t,e,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,s=o?"$":"$0";return[function(n,r){var o=p(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(s)){var a=n(e,t,this,r);if(a.done)return a.value}var c=x(t),u=String(this),l="function"==typeof r;l||(r=String(r));var f=c.global;if(f){var h=c.unicode;c.lastIndex=0}for(var d=[];;){var p=xo(c,u);if(null===p)break;if(d.push(p),!f)break;""===String(p[0])&&(c.lastIndex=bo(u,lt(c.lastIndex),h))}for(var g,v="",m=0,y=0;y<d.length;y++){p=d[y];for(var _=String(p[0]),b=Oo(ko(ct(p.index),u.length),0),w=[],C=1;C<p.length;C++)w.push(void 0===(g=p[C])?g:String(g));var S=p.groups;if(l){var A=[_].concat(w,b,u);void 0!==S&&A.push(S);var E=String(r.apply(void 0,A))}else E=Eo(_,u,b,w,S,r);b>=m&&(v+=u.slice(m,b)+E,m=b+_.length)}return v+u.slice(m)}]}));var Io=[],To={maxSize:500,getLog:function(){return Array.prototype.slice.call(Io,0)},clear:function(){Io=[]}};var jo={log:function(){try{(console.debug||console.log).apply(console,arguments)}catch(t){}},error:function(){try{console.error.apply(console,arguments)}catch(t){}},warn:function(){try{console.warn.apply(console,arguments)}catch(t){}}};function Ro(t){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(t)}function Po(t){return t&&"object"===Ro(t)&&!Uo(t)}function Uo(t){return"[object Array]"===Object.prototype.toString.call(t)}function Lo(){for(var t={},e=0;e<arguments.length;++e){var n=arguments[e];for(var r in n)t[r]&&Po(t[r])&&Po(n[r])?t[r]=Lo(t[r],n[r]):t[r]=n[r]}return t}var Mo=["p","email","split","utm","r","pgid","o_ss","o_v"],Do=!1;function No(){this._batchesByUrls={},this._timeoutId=null,this._config={maxBatchSize:6e4,maxChunkSize:4e3,timeout:1e3,idle:!1},"undefined"!=typeof window&&window.addEventListener("beforeunload",this.process.bind(this,!0))}function Fo(t){return"s".concat(t,"s").replace(/s+/g,"s").replace(/^s$/g,"")}function $o(t){for(var e in t)void 0!==t[e]&&null!==t[e]||delete t[e];return t}function Go(t,e){for(var n=-1,r=0;r<t.length;r++)if(e===t[r]){n=r;break}return n}No.prototype.setConfig=function(t){if(!Do)return t.timeout=Math.max(1e3,t.timeout||0),this._config=Lo(this._config,t),void(Do=!0);var e=[];for(var n in t)n in this._config?e.push(n):this._config[n]=t[n];e.length&&jo.warn("Queue config field(s) "+e.join(", ")+" are already set and can't be modified")},No.prototype.getConfig=function(){return Lo(this._config,{})},No.prototype.push=function(t,e){!function(t){for(Io.push(t);Io.length>To.maxSize;)Io.shift()}(e);var n=t+"/batch?"+No._buildQueryString(e);e=No._stringifyParams(e);var r=JSON.stringify(e);if(r.length+2>this._config.maxBatchSize)jo.error("Radar #"+e.uid+" body is too long: "+r);else{this._batchesByUrls[n]||(this._batchesByUrls[n]=[[]]);var o,i=this._batchesByUrls[n];for(o=0;o<i.length;++o){var s=i[o];if(JSON.stringify(s.concat([e])).length<=this._config.maxBatchSize){s.push(e);break}}o===i.length&&i.push([e]),this._timeoutId||"function"!=typeof setTimeout||(this._timeoutId=setTimeout(this.process.bind(this),this._config.timeout))}},No.prototype.process=function(t){for(var e in clearTimeout(this._timeoutId),this._timeoutId=null,this._batchesByUrls){for(var n=this._batchesByUrls[e],r=0;r<n.length;++r)this._send(e,n[r],t);delete this._batchesByUrls[e]}},No.prototype.isIdle=function(){return this._config.idle},No._buildQueryString=function(t){for(var e=[],n=0;n<Mo.length;++n){var r=Mo[n],o="string"==typeof t[r]?t[r]:JSON.stringify(t[r]);delete t[r],void 0!==o&&o.length&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}var i=[];for(var s in t.baseQuery)i.push(s);i=i.sort();for(var a=0;a<i.length;++a){var c=i[a];e.push(encodeURIComponent(c)+"="+encodeURIComponent(t.baseQuery[c]))}return delete t.baseQuery,e.join("&")},No.prototype._send=function(t,e,n){var r={url:t,data:"batch="+encodeURIComponent(JSON.stringify(e)),type:"POST",async:!0};if(!this._config.idle)if(n&&window.navigator.sendBeacon)window.navigator.sendBeacon(r.url,r.data);else{var o=new XMLHttpRequest;"function"==typeof this._config.beforeSend&&!this._config.beforeSend(o,r)?o.abort():(o.open(r.type,r.url,r.async),o.withCredentials=!0,o.send(r.data))}},No._stringifyParams=function(t){var e={};for(var n in t)"i"!==n?e[n]="string"==typeof t[n]?t[n]:JSON.stringify(t[n]):e.i=No._stringifyI(t.i);return e},No._stringifyI=function(t){var e=[];for(var n in t){var r=t[n];e.push(n+":"+r)}return e.join(",")};var Ko=0,Vo=["radarPrefix","split","r","pgid","utm","o_ss","o_v"],Bo=!1,Ho=new No,zo="xray_rlog_dot_error",Qo="xray_rlog_msg_abs",qo="xray_too_long",Jo="xray_not_configured",Wo="xray_send_dwh-with-skipdwh";function Xo(){this._config={xrayRadarUrl:"https://xray.mail.ru",pgid:(Date.now()+Math.random()).toString(36),radarPrefix:"",r:"undefined"!=typeof document&&document.referrer||"",defaultParams:{p:"mail",t_feature:"",v:1,skipdwh:!1}}}Xo.prototype.logger=To,Xo.prototype.setConfig=function(t,e){if((t=t||{}).split&&(t.split=Fo(t.split)),Bo)for(var n=0;n<Vo.length;++n)delete t[Vo[n]];Bo=!0,t.defaultParams&&t.defaultParams.i&&(t.defaultParams.i=this._formatIntervals(t.defaultParams.i),delete this._config.defaultParams.i),this._config=e?t:Lo(this._config,t),t.gaTrackingId&&this._initGA(t.gaTrackingId)},Xo.prototype.addSplit=function(t){this._config.split=Fo("".concat(this._config.split||"","s").concat(t))},Xo.prototype.getConfig=function(){return Lo(this._config,{})},Xo.prototype.getTotalSended=function(){return Ko},Xo.prototype.setQueueConfig=No.prototype.setConfig.bind(Ho),Xo.prototype.getQueueConfig=No.prototype.getConfig.bind(Ho),Xo.prototype.getInstanceCopy=function(){var t=new Xo;return Bo=!1,t.setConfig(this._config,!0),t},Xo.prototype.send=function(t,e,n){this._send(t,e,n,!0)},Xo.prototype._send=function(t,e,n,r){if(r&&!Bo&&t!==Jo){var o=e||{};o.t=t,this._logOwnError(o,Jo),jo.warn("Your xray instance is not configured")}if(e=Lo(e||{},{}),this._config.middlewares)for(var i=0;i<this._config.middlewares.length;i++){var s=(0,this._config.middlewares[i])(t,e,n);t=s.t,e=s.params,n=s.ga}t=Uo(t)?t.join("_"):t,e.i&&(e.i=this._formatIntervals(e.i)),e=Lo(this._config.defaultParams,e,{t:t,split:this._config.split,r:this._config.r,pgid:this._config.pgid,utm:this._config.utm,o_ss:this._config.o_ss,o_v:this._config.o_v,baseQuery:this._config.baseQuery,uid:Ko++}),r&&e.skipdwh&&e.dwh&&this._logOwnError(e,Wo);for(var a=[e.t_feature,this._config.radarPrefix],c=0;c<a.length;++c)a[c]&&(e.t=a[c]+"_"+e.t);delete e.t_feature;try{e=this._validateParams(e,r)}catch(t){return jo.log("xray",e.uid,e),void jo.error(t.message)}if(this._config.verbose&&jo.log("xray",e.uid,e.t,e,n?"GA: "+!!n:void 0),Ho.push(this._config.xrayRadarUrl,e),!0!==n||this._config.gaTrackingId){var u="string"==typeof n?n:this._config.gaTrackingId;if(n&&u&&!Ho.isIdle()){if(e.i){for(var l in e.i)this._sendGA(t+"_"+l,e.i[l],u);return}this._sendGA(t,e.v,u)}}else jo.error("Radar #"+e.uid+": no GA tracking id specified")},Xo.prototype.sendImmediately=function(t,e,n){this.send(t,e,n),Ho.process()},Xo.prototype.addMiddleware=function(t){this._config.middlewares||(this._config.middlewares=[]),-1===Go(this._config.middlewares,t)&&this._config.middlewares.push(t)},Xo.prototype.removeMiddleware=function(t){if(this._config.middlewares){var e=Go(this._config.middlewares,t);e>-1&&this._config.middlewares.splice(e,1)}},Xo.prototype._sendGA=function(t,e,n){"function"!=typeof gtag&&this._initGA(n);var r=t.split(/_/g),o=r[1]||r[0],i=r[1]?r[0]:"",s=r.slice(2).join("_"),a={value:e,send_to:n};i&&(a.event_category=i),s&&(a.event_label=s),gtag("event",o,a)},Xo.prototype._initGA=function(t){if(!window.gtag){var e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id="+t,e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},gtag("js",new Date)}gtag("config",t,{send_page_view:!1})},Xo.prototype._logOwnError=function(t,e,n){var r="xray_err",o=r,i=t.p;if(i){if(i.length+r.length+1>32){var s=32-r.length-1;i=i.slice(0,s)}o="".concat(i,"_").concat(r)}var a=t.t;a.length>64&&(a=a.slice(0,64)),this._send(e,{skipdwh:!0,rlog:o,rlog_message:{t:a,err:e,value:n}},!1,!1)},Xo.prototype._validateParams=function(t,e){(t=$o(t)).rlog&&-1!==t.rlog.indexOf(".")&&(e&&this._logOwnError(t,zo,t.rlog),jo.error("Radar #".concat(t.uid,": rlog can not contain file extension")),delete t.rlog,delete t.rlog_message),t.rlog&&t.rlog_message||(t.rlog_message&&(e&&this._logOwnError(t,Qo),jo.error("Radar #".concat(t.uid,": rlog_message would not be sent without rlog"))),delete t.rlog,delete t.rlog_message);var n={32:[t.p,t.rlog],64:[t.p+"_"+t.t]};for(var r in t.i)n[32].push(r),n[64].push(t.p+"_"+t.t+"_"+r);for(var o in n)for(var i=n[o],s=0;s<i.length;++s)if(i[s]&&i[s].length>o)throw e&&this._logOwnError(t,qo,i[s].slice(0,o)),new Error("Radar #".concat(t.uid,": value is too long: ").concat(n[o][s])+" (len: ".concat(i[s].length,", limit: ").concat(o,")"));return t},Xo.prototype._formatIntervals=function(t){if(Po(t))return t;var e={};if(Uo(t)){for(var n=0;n<t.length;++n){var r=t[n].split(":");e[r[0]]=+r[1]||this._config.defaultParams.v}return e}if("string"==typeof t){var o=t.split(",");return this._formatIntervals(o)}};var Yo,Zo,ti,ei,ni,ri=new Xo;function oi(t,e){for(var n=t.split("&"),r=n[0],o={},i=1;i<n.length;++i){var s=n[i].split("="),a=decodeURIComponent(s[0]),c=decodeURIComponent(s[1]);try{c=JSON.parse(c)}catch(t){}o[a]=c}(e=e||{}).immediately?ri.sendImmediately(r,o,e.ga):ri.send(r,o,e.ga)}oi.setConfig=function(t){ri.setConfig($o({verbose:t.verbose,pgid:t.pgid,split:t.split,xrayRadarUrl:t.xrayRadarUrl||t.XRAY_RADAR_URL,radarPrefix:t.radarPrefix||t.RadarPrefix,utm:t.utm,o_ss:t.o_ss,o_v:t.o_v,baseQuery:t.baseQuery,gaTrackingId:t.gaTrackingId||t.GA_TRACKING_ID,defaultParams:t.defaultParams||$o({p:t.project,email:t.ActiveEmail})})),ri.setQueueConfig($o({maxBatchSize:t.MAX_BATCH_SIZE,maxChunkSize:t.MAX_CHUNK_SIZE,beforeSend:t.beforeSend,timeout:t.timeout,idle:t.idle}))},oi.getConfig=Xo.prototype.getConfig.bind(ri),oi.addSplit=Xo.prototype.addSplit.bind(ri),oi.setQueueConfig=Xo.prototype.setQueueConfig.bind(ri),oi.getQueueConfig=Xo.prototype.getQueueConfig.bind(ri),oi.getTotalSended=Xo.prototype.getTotalSended.bind(ri),oi.send=Xo.prototype.send.bind(ri),oi.sendImmediately=Xo.prototype.sendImmediately.bind(ri),oi.getInstanceCopy=Xo.prototype.getInstanceCopy.bind(ri),oi.addMiddleware=Xo.prototype.addMiddleware.bind(ri),oi.removeMiddleware=Xo.prototype.removeMiddleware.bind(ri),function(t){t[t.auto=42]="auto",t[t.cloud=182]="cloud",t[t.deti=129]="deti",t[t.dobro=190]="dobro",t[t.health=145]="health",t[t.hitech=123]="hitech",t[t.home=169]="home",t[t.games=133]="games",t[t.go=76]="go",t[t.kino=30]="kino",t[t.lady=104]="lady",t[t.moymir=120]="moymir",t[t.moymirgameclub=501]="moymirgameclub",t[t.news=29]="news",t[t.octavius=105]="octavius",t[t.ok=163]="ok",t[t.pets=466]="pets",t[t.pulse=485]="pulse",t[t.realty=122]="realty",t[t.vkmail=509]="vkmail",t[t.weather=112]="weather",t[t.youla=460]="youla"}(Yo||(Yo={})),function(t){t.friends="friends",t.messages="messages",t.photos="photos",t.groups="groups",t.notifications="notifications"}(Zo||(Zo={})),function(t){t.markCnt="markCnt",t.messageCnt="messageCnt",t.notificationCnt="notificationCnt",t.messages="messages",t.friends="friends",t.presents="presents"}(ti||(ti={})),function(t){t.additional="additional",t.business="business",t.mailrugroup="mailrugroup",t.general="general"}(ei||(ei={})),function(t){t[t.promo=256]="promo",t[t.pointer=8]="pointer"}(ni||(ni={}));const ii=t=>{!jr&&oi.send(t,{value:1})};var si=Bt("match"),ai=k.f,ci=yt.f,ui=et.set,li=Bt("match"),fi=r.RegExp,hi=fi.prototype,di=/a/g,pi=/a/g,gi=new fi(di)!==di,vi=ro.UNSUPPORTED_Y;if(i&&kt("RegExp",!gi||vi||o((function(){return pi[li]=!1,fi(di)!=di||fi(pi)==pi||"/a/i"!=fi(di,"i")})))){for(var mi=function(t,e){var n,r,o,i=this instanceof mi,s=v(n=t)&&(void 0!==(r=n[si])?!!r:"RegExp"==f(n)),a=void 0===e;if(!i&&s&&t.constructor===mi&&a)return t;gi?s&&!a&&(t=t.source):t instanceof mi&&(a&&(e=eo.call(t)),t=t.source),vi&&(o=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var c,u,l,h,d,p=(c=gi?new fi(t,e):fi(t,e),u=i?this:hi,l=mi,cr&&"function"==typeof(h=u.constructor)&&h!==l&&v(d=h.prototype)&&d!==l.prototype&&cr(c,d),c);return vi&&o&&ui(p,{sticky:o}),p},yi=function(t){t in mi||ai(mi,t,{configurable:!0,get:function(){return fi[t]},set:function(e){fi[t]=e}})},_i=ci(fi),bi=0;_i.length>bi;)yi(_i[bi++]);hi.constructor=mi,mi.prototype=hi,nt(r,"RegExp",mi)}ee("RegExp");const wi=864e5,Ci="s",Si="s_",Ai=t=>!(t===Ci||t.startsWith(Si)||"ph"===t);function Ei(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,o,i]=e;if(void 0!==o){let t="",e=i||{};null===o?e=Object.assign(Object.assign({},e),{expires:-1}):t=o.toString();const n=Ai(r)?encodeURIComponent(t):t,s=()=>{if(e.expires&&"number"==typeof e.expires){return`; expires=${new Date(Date.now()+e.expires*wi).toUTCString()}`}return""},a=e.path?`; path=${e.path}`:"",c=e.domain?`; domain=${e.domain}`:"",u=e.samesite?`; SameSite=${e.samesite}`:"",l=e.secure?"; secure":"";return document.cookie=`${r}=${n}${s()}${a}${c}${u}${l}`,t}if(document.cookie){let t=(document.cookie.match(new RegExp(`(?:^|; ?)${r}\\=(\\S*?)(?:; ?|$)`))||[])[1];if(Ai(r)&&t)try{t=decodeURIComponent(o)}catch(t){}return t}}var xi=function(){if(function(t,e,n){if(!/Version\/.* Safari\//.test(t)||/Chrom(e|ium)/.test(t))return!1;var r=t.match(/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//);return r&&r[1]===String(e)&&r[2]===String(n)}(navigator.userAgent,10,14)||function(t,e){var n=t.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return n&&n[1]===String(e)}(navigator.userAgent,12))return"";var t,e;return document.cookie="_s_test=1;path=/;SameSite=None;Secure",t="_s_test",((e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0)?(document.cookie="_s_test=1;path=/;max-age=-1;SameSite=None;Secure",";SameSite=None;Secure"):""};function Oi(){return";SameSite=None;Secure"===xi()}function ki(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,o,i,s]=e;const a=new RegExp(`(^|\\|)(${i}=)(.*?)(\\||$)`),c=Object.assign({domain:o,expires:365,path:"/"},Oi()&&{samesite:"None",secure:!0});let u,l;if(i){if(u=Ei(r)||"",l=(u.match(a)||[])[3],void 0!==s){let t=null,e="";if(void 0!==l||null===s){let n;n=null===s?(t,e,n,r,o,i,s)=>0===i?"":o:`$1$2${s}$4`,t=u.replace(a,n),e=t}else u&&(e=`${u}|`),e=`${e+i}=${s}`;Ei(r,""===t?null:e,c)}else s=l;return s}}const Ii={__domain:Pr,__prefix:null,_S_cookie_set_get_remove:ki,_getPrefix(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={prefix:t.prefix||Ii.__prefix,domain:t.domain||Ii.__domain};if(!e.prefix||!e.domain)throw new Error("run setProject before");return e},_throw_noValue_Error(){throw new Error("need value")},getGlobal:t=>ki("s",Ii.__domain,t),setGlobal:(t,e)=>(void 0===e&&Ii._throw_noValue_Error(),ki(Ci,Ii.__domain,t,e),Ii.getGlobal(t)),removeGlobal(t){const e=Ii.getGlobal(t);return ki(Ci,Ii.__domain,t,null),e},setProject(t,e){if(!t||!e)throw new Error("project is not valid");e.startsWith(".")||(e=`.${e}`),Ii.__prefix=t,jr&&(e=e.replace(/.[a-z0-9\-]*.[a-z0-9]*$/,Rr)),Ii.__domain=e},getLocal(t,e){const n=Ii._getPrefix(e);return ki(`s_${n.prefix}`,n.domain,t)},setLocal(t,e,n){const r=Ii._getPrefix(n);return void 0===e&&Ii._throw_noValue_Error(),ki(`s_${r.prefix}`,r.domain,t,e),Ii.getLocal(t,r)},removeLocal(t,e){const n=Ii._getPrefix(e),r=Ii.getLocal(t,n);return ki(`s_${n.prefix}`,n.domain,t,null),r}};function Ti(){return window.devicePixelRatio}class ji{constructor(){this._invocations=[],this._fn=null,this._context=null}getQuery(){const t=this._invoke.bind(this);return t.replaceImpl=this.replaceImpl.bind(this),t}_invoke(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._fn?this._fn.apply(this._context,e):this._invocations.push(e)}replaceImpl(t,e){if(this._fn)return;const n=e||window;this._invocations.forEach((e=>{t.apply(n,e)})),delete this._invocations,this._fn=t,this._context=n}}function Ri(t){const e=new URLSearchParams(t),n={};return e.forEach(((t,e)=>{n[e]=t})),n}let Pi=!1;class Ui extends Ir{constructor(t){if(super(),this.show=(new ji).getQuery(),this.hide=(new ji).getQuery(),this.insert=(new ji).getQuery(),t.authGate){const e={allow_external:t.enableExtDomains,vk:t.social.vk?1:null,ok:t.social.ok?1:null,fb:t.social.fb?1:null,mobile_redirect:!!t.authGateMobileRedirect,app_id_mytracker:t.appIdMytracker};t.authGateSuccessRedirectUrl&&(e.success_redirect=t.authGateSuccessRedirectUrl),t.siteId&&Yo[t.siteId]&&(e.project=Yo[t.siteId]),t.enableLoginByPhone&&(e.supports_ph_acc=1),window.__AG_onload=()=>{const t=window.__AG;t&&(t.setSettings(e),this.show.replaceImpl(function(t,e){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:"navi"};if(Li(t))Mi(t,e,n.focus);else{if(n){const{preview:t}=Ri(window.location.search);if(t&&(n.preview=t),!n.type)switch(n.formType){case"login":n.type="login";break;case"relogin":n.type="choice"}!n.success_redirect&&n.successPage&&(n.success_redirect=n.successPage)}t.show(n)}}}(t,this)),this.hide.replaceImpl(function(t){return()=>{Pi||t.hide()}}(t)),this.insert.replaceImpl(function(t){return(e,n)=>{t.insert&&(Pi=!0,t.insert(e,n))}}(t)),this.isVisible=()=>t.isVisible(),Ir.relay([Nr.Show,Nr.Hide,Nr.Load],t,this))},$r(function(t,e){const n=new URL(t);return n.searchParams?(Object.entries(e).forEach((t=>{let[e,r]=t;n.searchParams.set(e,r)})),n.toString()):t}(t.authGateVersion||"https://img.imgsmail.ru/ag/2.8.3/authGate.js",{onload:"__AG_onload"}))}}isVisible(){return!1}}function Li(t){return t.insert&&Pi}function Mi(t,e,n){if(t.focus){const r=n&&"string"==typeof n?n:"login";t.focus(r,(()=>{e.emit(Nr.Focus)}))}}class Di extends Ir{constructor(){super(...arguments),this.show=(new ji).getQuery(),this.hide=(new ji).getQuery()}}class Ni extends Ir{constructor(){super(...arguments),this.show=(new ji).getQuery(),this.hide=(new ji).getQuery()}}var Fi=function(t){return function(e,n,r,o){Rt(n);var i=Xn(e),s=d(i),a=lt(i.length),c=t?a-1:0,u=t?-1:1;if(r<2)for(;;){if(c in s){o=s[c],c+=u;break}if(c+=u,t?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;t?c>=0:a>c;c+=u)c in s&&(o=n(o,s[c],c,i));return o}},$i={left:Fi(!1),right:Fi(!0)},Gi=$i.left,Ki=Jr("reduce");Tt({target:"Array",proto:!0,forced:!Ki||!Pt&&Nt>79&&Nt<83},{reduce:function(t){return Gi(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Vi=function(){return Vi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Vi.apply(this,arguments)},Bi=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Hi=function(t,e,n){if(void 0===n&&(n=!1),!t||!e||"object"!=typeof t||"object"!=typeof e)return t;var r=Vi({},t);for(var o in e)e.hasOwnProperty(o)&&(e[o]instanceof Array&&t[o]instanceof Array?r[o]=n?Bi(t[o],e[o]):e[o]:"object"==typeof e[o]&&"object"==typeof t[o]?r[o]=Hi(t[o],e[o],n):r[o]=e[o]);return r},zi=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Qi={defaults:{},errorType:null,polyfills:{fetch:null,FormData:null,URLSearchParams:null,performance:null,PerformanceObserver:null,AbortController:null},polyfill:function(t,e){for(var n=void 0===e?{}:e,r=n.doThrow,o=void 0===r||r,i=n.instance,s=void 0!==i&&i,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];var u=this.polyfills[t]||("undefined"!=typeof self?self[t]:null)||("undefined"!=typeof global?global[t]:null);if(o&&!u)throw new Error(t+" is not defined");return s&&u?new(u.bind.apply(u,zi([void 0],a))):u}},qi=function(t,e,n,r){if(!t.getEntriesByName)return!1;var o=t.getEntriesByName(e);return!!(o&&o.length>0)&&(n(o.reverse()[0]),r.clearMeasures&&r.clearMeasures(e),Ji.callbacks.delete(e),Ji.callbacks.size<1&&(Ji.observer.disconnect(),r.clearResourceTimings&&r.clearResourceTimings()),!0)},Ji={callbacks:new Map,observer:null,observe:function(t,e){if(t&&e){var n=Qi.polyfill("performance",{doThrow:!1});(function(t,e){return!Ji.observer&&t&&e&&(Ji.observer=new e((function(e){Ji.callbacks.forEach((function(n,r){qi(e,r,n,t)}))})),t.clearResourceTimings&&t.clearResourceTimings()),Ji.observer})(n,Qi.polyfill("PerformanceObserver",{doThrow:!1}))&&(qi(n,t,e,n)||(Ji.callbacks.size<1&&Ji.observer.observe({entryTypes:["resource","measure"]}),Ji.callbacks.set(t,e)))}}},Wi=$i.right,Xi=Jr("reduceRight");Tt({target:"Array",proto:!0,forced:!Xi||!Pt&&Nt>79&&Nt<83},{reduceRight:function(t){return Wi(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Yi=function(t){this.error=t},Zi=function(){return Zi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Zi.apply(this,arguments)},ts=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},es="application/json",ns="Content-Type",rs=function(){function t(t,e,n,r,o,i){void 0===n&&(n=new Map),void 0===r&&(r=[]),void 0===o&&(o=[]),void 0===i&&(i=[]),this._url=t,this._options=e,this._catchers=n,this._resolvers=r,this._middlewares=o,this._deferredChain=i}return t.factory=function(e,n){return void 0===e&&(e=""),void 0===n&&(n={}),new t(e,n)},t.prototype.selfFactory=function(e){var n=void 0===e?{}:e,r=n.url,o=void 0===r?this._url:r,i=n.options,s=void 0===i?this._options:i,a=n.catchers,c=void 0===a?this._catchers:a,u=n.resolvers,l=void 0===u?this._resolvers:u,f=n.middlewares,h=void 0===f?this._middlewares:f,d=n.deferredChain,p=void 0===d?this._deferredChain:d;return new t(o,Zi({},s),new Map(c),ts(l),ts(h),ts(p))},t.prototype.defaults=function(t,e){return void 0===e&&(e=!1),Qi.defaults=e?Hi(Qi.defaults,t):t,this},t.prototype.errorType=function(t){return Qi.errorType=t,this},t.prototype.polyfills=function(t){return Qi.polyfills=Zi(Zi({},Qi.polyfills),t),this},t.prototype.url=function(t,e){if(void 0===e&&(e=!1),e)return this.selfFactory({url:t});var n=this._url.split("?");return this.selfFactory({url:n.length>1?n[0]+t+"?"+n[1]:this._url+t})},t.prototype.options=function(t,e){return void 0===e&&(e=!0),this.selfFactory({options:e?Hi(this._options,t):t})},t.prototype.query=function(t,e){return void 0===e&&(e=!1),this.selfFactory({url:os(this._url,t,e)})},t.prototype.headers=function(t){return this.selfFactory({options:Hi(this._options,{headers:t||{}})})},t.prototype.accept=function(t){return this.headers({Accept:t})},t.prototype.content=function(t){var e;return this.headers(((e={})["Content-Type"]=t,e))},t.prototype.auth=function(t){return this.headers({Authorization:t})},t.prototype.catcher=function(t,e){var n=new Map(this._catchers);return n.set(t,e),this.selfFactory({catchers:n})},t.prototype.signal=function(t){return this.selfFactory({options:Zi(Zi({},this._options),{signal:t.signal})})},t.prototype.resolve=function(t,e){return void 0===e&&(e=!1),this.selfFactory({resolvers:e?[t]:ts(this._resolvers,[t])})},t.prototype.defer=function(t,e){return void 0===e&&(e=!1),this.selfFactory({deferredChain:e?[t]:ts(this._deferredChain,[t])})},t.prototype.middlewares=function(t,e){return void 0===e&&(e=!1),this.selfFactory({middlewares:e?t:ts(this._middlewares,t)})},t.prototype.method=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null);var r=this._options.headers,o=n?"object"!=typeof n||r&&!Object.entries(r).every((function(t){var e=t[0],n=t[1];return e.toLowerCase()!==ns.toLowerCase()||n.startsWith(es)}))?this.body(n):this.json(n):this;return function(t){var e=t._url,n=t._catchers,r=t._resolvers,o=t._middlewares,i=t._options,s=new Map(n),a=Hi(Qi.defaults,i),c=Qi.polyfill("AbortController",{doThrow:!1,instance:!0});!a.signal&&c&&(a.signal=c.signal);var u={ref:null,clear:function(){u.ref&&(clearTimeout(u.ref),u.ref=null)}},l=function(t){return function(e){return 0===t.length?e:1===t.length?t[0](e):t.reduceRight((function(n,r,o){return o===t.length-2?r(n(e)):r(n)}))}}(o)(Qi.polyfill("fetch"))(e,a),f=l.catch((function(t){throw new Yi(t)})).then((function(t){return u.clear(),t.ok?t:t[Qi.errorType||"text"]().then((function(e){var n=new Error(e);throw n[Qi.errorType||"text"]=e,n.status=t.status,n.response=t,n}))})),h=function(e){return e.catch((function(e){u.clear();var n=e instanceof Yi?e.error:e;if(e instanceof Yi&&s.has("__fromFetch"))return s.get("__fromFetch")(n,t);if(s.has(n.status))return s.get(n.status)(n,t);if(s.has(n.name))return s.get(n.name)(n,t);throw n}))},d=function(t){return function(e){return h(t?f.then((function(e){return e&&e[t]()})).then((function(t){return e?e(t):t})):f.then((function(t){return e?e(t):t})))}},p={res:d(null),json:d("json"),blob:d("blob"),formData:d("formData"),arrayBuffer:d("arrayBuffer"),text:d("text"),perfs:function(t){return l.then((function(e){return Ji.observe(e.url,t)})),p},setTimeout:function(t,e){return void 0===e&&(e=c),u.clear(),u.ref=setTimeout((function(){return e.abort()}),t),p},controller:function(){return[c,p]},error:function(t,e){return s.set(t,e),p},badRequest:function(t){return p.error(400,t)},unauthorized:function(t){return p.error(401,t)},forbidden:function(t){return p.error(403,t)},notFound:function(t){return p.error(404,t)},timeout:function(t){return p.error(408,t)},internalError:function(t){return p.error(500,t)},fetchError:function(t){return p.error("__fromFetch",t)},onAbort:function(t){return p.error("AbortError",t)}};return r.reduce((function(e,n){return n(e,t)}),p)}((o=o.options(Zi(Zi({},e),{method:t})))._deferredChain.reduce((function(t,e){return e(t,t._url,t._options)}),o))},t.prototype.get=function(t){return this.method("GET",t)},t.prototype.delete=function(t){return this.method("DELETE",t)},t.prototype.put=function(t,e){return this.method("PUT",e,t)},t.prototype.post=function(t,e){return this.method("POST",e,t)},t.prototype.patch=function(t,e){return this.method("PATCH",e,t)},t.prototype.head=function(t){return this.method("HEAD",t)},t.prototype.opts=function(t){return this.method("OPTIONS",t)},t.prototype.replay=function(t){return this.method(this._options.method,t)},t.prototype.body=function(t){return this.selfFactory({options:Zi(Zi({},this._options),{body:t})})},t.prototype.json=function(t){var e,n=null===(e=Object.entries(this._options.headers||{}).find((function(t){var e=t[0],n=t[1];return e.toLowerCase()===ns.toLowerCase()&&n.startsWith(es)})))||void 0===e?void 0:e[1];return this.content(n||es).body(JSON.stringify(t))},t.prototype.formData=function(t,e){return void 0===e&&(e=!1),this.body(is(t,e))},t.prototype.formUrl=function(t){return this.body("string"==typeof t?t:(e=t,Object.keys(e).map((function(t){var n=e[t];return n instanceof Array?n.map((function(e){return ss(t,e)})).join("&"):ss(t,n)})).join("&"))).content("application/x-www-form-urlencoded");var e},t}(),os=function(t,e,n){var r;if("string"==typeof e)r=e;else{var o=Qi.polyfill("URLSearchParams",{instance:!0});for(var i in e)if(e[i]instanceof Array)for(var s=0,a=e[i];s<a.length;s++){var c=a[s];o.append(i,c)}else o.append(i,e[i]);r=o.toString()}var u=t.split("?");return n||u.length<2?u[0]+"?"+r:t+"&"+r};function is(t,e,n,r){return void 0===e&&(e=!1),void 0===n&&(n=Qi.polyfill("FormData",{instance:!0})),void 0===r&&(r=[]),Object.entries(t).forEach((function(t){var o=t[0],i=t[1],s=r.reduce((function(t,e){return t?t+"["+e+"]":e}),null);if(s=s?s+"["+o+"]":o,i instanceof Array)for(var a=0,c=i;a<c.length;a++){var u=c[a];n.append(s+"[]",u)}else!e||"object"!=typeof i||e instanceof Array&&e.includes(o)?n.append(s,i):null!==i&&is(i,e,n,ts(r,[o]))})),n}function ss(t,e){return encodeURIComponent(t)+"="+encodeURIComponent("object"==typeof e?JSON.stringify(e):""+e)}var as=rs.factory;as.default=rs.factory;class cs{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.url=t,this.isCors=e}get options(){return this.isCors?{credentials:"include",mode:"cors"}:{mode:"no-cors"}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return as().options(this.options).url(this.url+e).query(t).query({_:Math.round((new Date).getTime()+1e9*Math.random())}).get().fetchError(((t,e)=>{const n=`${t.message} in request to ${e._url}`;throw new Error(n)}))}getJson(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.get(t,e).json()}post(t){return as(this.url).options(Object.assign(Object.assign({},this.options),{method:"post"})).formUrl(t).post()}}const us=jr?"//portal.devmail.ru":"//portal.mail.ru",ls=jr?"//auth.devmail.ru":"//auth.mail.ru",fs=`//ok.ru/mapi?query=${encodeURIComponent('{"cmd":"getCounters"}')}`;var hs;!function(t){t.OK="ok",t.NOAUTH="noauth",t.ERROR="error"}(hs||(hs={}));const ds={mac:1,Socials:1};var ps,gs=new class extends cs{constructor(){super(us)}getInfo(t,e){let n=Object.assign(Object.assign(Object.assign({},ds),{gamescnt:1}),e);return jr&&(n=Object.assign(Object.assign({},n),{ldata:1})),t&&(n=Object.assign(Object.assign({},n),{Login:t})),this.getJson(n,"/NaviData")}getListInfo(t,e){let n=Object.assign(Object.assign(Object.assign({},ds),{ldata:1}),e);return t&&(n=Object.assign(Object.assign({},n),{Login:t})),this.getJson(n,"/NaviData")}getDomains(t){return this.getJson(t,"/Domains")}};!function(t){t.OK="ok",t.NOAUTH="noauth",t.MRIM="mrim"}(ps||(ps={}));class vs extends cs{auth(t){const e={mac:1,Login:t};return this.getJson(e,"/cgi-bin/auth")}logout(t){const e={Login:t,mac:1};return this.getJson(e,"/cgi-bin/logout")}}class ms{static convert(t){let{status:e,data:n}=t;var r,o,i;const s=(null===(r=n)||void 0===r?void 0:r.ldata)||{};return{status:e,accounts:(null===(i=null===(o=n)||void 0===o?void 0:o.list)||void 0===i?void 0:i.map((t=>({email:t,active:n.email===t,firstName:s[t].first_name||"",lastName:s[t].last_name||"",socialId:ms.getSocialId(t),verified:!!s[t].verified,counters:{mail:s[t].mail_cnt}}))))||[]}}static getSocialId(t){const e=t.match(/^[0-9]+@(vk|ok|fb)$/);return e&&e[1]}}const ys="s_c";function _s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let e=0;e<t.length;e+=1){const n=t[e].split("@")[1];if(["corp.mail.ru","vk.team"].includes(n))return Ii.setGlobal(ys,Date.now()),!0}const e=Ii.getGlobal(ys);if(e&&Date.now()>1*+e+wi)return Ii.removeGlobal(ys),!1}var bs=new class extends cs{constructor(){super(fs)}};class ws{constructor(t,e,n){let{eventType:r,counterKeys:o}=t;this.eventType=r,this.counterKeys=o,this.updateAccountCounter=e,this.eventEmitter=n}get value(){return this._value}updateValue(t){this._value=t}updateData(t){this.eventEmitter.emit(this.eventType,null,this.parseSocialData(t));const e=this.summarizeCounters(this.parseSocialData(t),this.counterKeys);this.value!==e&&this.updateValue(e)}summarizeCounters(t,e){return Object.entries(t).reduce(((t,n)=>{let[r,o]=n;return t+(e[r]?o:0)}),0)}parseSocialData(t){return Object.entries(t).reduce(((t,e)=>{let[n,r]=e;return t[n]=["number","string"].includes(typeof r)?r:r.count,t}),{})}getDataFromApi(){}}class Cs extends ws{constructor(t,e){super({eventType:Lr.UpdateCounterOK,counterKeys:ti},t,e)}getDataFromApi(){bs.getJson().then((t=>{"no auth"===t.status?this.updateAccountCounter({ok:{}}):this.updateAccountCounter({ok:t.data||{}}),ii("ok_counter_success"),ii("social_counters_ok_success_api")})).catch((()=>{ii("ok_counter_error"),ii("social_counters_ok_error_api")}))}}var Ss=new class extends cs{constructor(){super("//vk.com/feed2.php")}};class As extends ws{constructor(t,e){super({eventType:Lr.UpdateCounterVK,counterKeys:Zo},t,e)}getDataFromApi(){Ss.getJson({act:"widget",utm_source:"mrg_ph"}).then((t=>{var e;-1!==(null===(e=t.user)||void 0===e?void 0:e.id)?this.updateAccountCounter({vk:t||{}}):this.updateAccountCounter({vk:{}}),ii("vk_counter_success"),ii("social_counters_vk_success_api")})).catch((()=>{ii("vk_counter_error"),ii("social_counters_vk_error_api")}))}}let Es=!1;const xs=(t,e)=>t&&e?`${t} ${e}`:t||e;class Os{constructor(t){let{ph:e,eventEmitter:n,activeUser:r,authUrl:o=ls,socialCountersSettings:i,stayInAccountList:s}=t;this.gamesCount=0,this.mailCount=0,this.moymirCount=0,this.loveCount=0,this.restAccountsMailCount=0,this.accounts=[],this.ph=e,this.eventEmitter=n,this.activeUser=r||void 0,this.parentActiveUser=r||void 0,this.authApi=new vs(function(t){const e="mail.ru"===window.location.host,n=/\.mail\.ru$/.test(window.location.host);return e||n?ls:t}(o)),this.socialCountersSettings=i,this.okCounter=new Cs(this.updateSomeCounters.bind(this),n),this.vkCounter=new As(this.updateSomeCounters.bind(this),n),this.stayInAccountList=s,this.loadAccountsList(null,this.getSocialsParams()),this.socialCountersSettings.isShowOkCounter&&ii("social_counters_hit_ok"),this.socialCountersSettings.isShowVKCounter&&ii("social_counters_hit_vk")}getSocialsParams(){const t={};return this.socialCountersSettings.isShowVKCounter&&this.socialCountersSettings.isVKConnectForVKCounter&&(t.vk_connect=1),this.socialCountersSettings.isShowOkCounter&&this.socialCountersSettings.isServerApiForOKCounter&&(t.ok_counters=1),t}handleSocialCounters(t,e){let{vk_counters:n=null,ok_counters:r=null}=t;var o,i;n&&Object.values(n).length?(ii("vk_counter_success"),ii("social_counters_vk_server")):e&&(null===(o=this.socialCountersSettings)||void 0===o?void 0:o.isShowVKCounter)&&(this.vkCounter.getDataFromApi(),n&&ii("social_counters_vk_repeat")),r&&Object.values(r).length?(ii("ok_counter_success"),ii("social_counters_ok_server")):e&&(null===(i=this.socialCountersSettings)||void 0===i?void 0:i.isShowOkCounter)&&(this.socialCountersSettings.isServerApiForOKCounter?this.socialCountersSettings.isClientApiAfterServerApiForOKCounter?this.okCounter.getDataFromApi():this.updateSomeCounters({ok:{}}):this.okCounter.getDataFromApi())}handleSocialCountersErrors(){var t,e;(null===(t=this.socialCountersSettings)||void 0===t?void 0:t.isShowVKCounter)&&(ii("vk_counter_error"),ii("social_counters_vk_error_server")),(null===(e=this.socialCountersSettings)||void 0===e?void 0:e.isShowOkCounter)&&(ii("ok_counter_error"),ii("social_counters_ok_error_server"))}loadAccountInfo(t,e){return gs.getInfo(t,e).then((t=>{var n;ii("load_account_info_success"),t.status===hs.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,e),_s(null===(n=t.data)||void 0===n?void 0:n.list)):t.status===hs.NOAUTH&&this.handleClearAccount()})).catch((()=>{ii("load_account_info_error"),this.handleSocialCountersErrors()}))}loadAccountsList(t,e){let n={};return gs.getListInfo(this.activeUser,e).then((t=>{var r;ii("load_accounts_list_success"),t.status===hs.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,e),_s(null===(r=t.data)||void 0===r?void 0:r.list)):t.status===hs.NOAUTH&&this.handleClearAccount(),n=t,Es||(Es=!0)})).catch((()=>{ii("load_accounts_list_error"),this.handleSocialCountersErrors(),n={status:hs.ERROR,data:{}}})).finally((()=>{t&&t(ms.convert(n))}))}logoutAccount(t,e){return this.authApi.logout(t).then((t=>{ii("logout_account_success"),t.status===hs.OK&&this.loadAccountsList(e)})).catch((()=>{ii("logout_account_error")}))}switchAccountWithReload(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return t?this.authApi.auth(t).then((r=>{let{status:o,data:i,location:s}=r;switch(ii("switch_account_success"),o){case ps.OK:this.activeUserFullName=xs(i.first_name,i.last_name),e?this.loadAccountsList(null,n):this.loadAccountInfo(i.email,n);break;case ps.MRIM:return(null===window||void 0===window?void 0:window.location)&&s&&(window.location.href=s),!1;case ps.NOAUTH:if(i.list.includes(t))return this.handleExpiredAccount(t),!1;i.email&&i.list.length?this.stayInAccountList?this.loadAccountInfo(i.email,n):this.loadAccountsList(null,n):i.list.length||this.handleClearAccount()}return!0})).catch((()=>(ii("switch_account_error"),!0))):Promise.resolve(!0)}updateSomeCounters(t){"mail"in t&&this.updateCounterMail(+t.mail),"love"in t&&this.updateCounterLove(+t.love),"games"in t&&this.updateCounterGames(+t.games),"moymir"in t&&this.updateCounterMoyMir(+t.moymir),"ok"in t&&this.okCounter.updateData(t.ok),"vk"in t&&this.vkCounter.updateData(t.vk),this.emitAccountDataUpdate()}emitAccountDataUpdate(){this.eventEmitter.emit(Lr.AccountDataUpdate,null,{activeUser:this.activeUser,activeUserFullName:this.activeUserFullName,parentActiveUser:this.parentActiveUser,gamesCount:this.gamesCount,mailCount:this.mailCount,moymirCount:this.moymirCount,okCount:this.okCounter.value,vkCount:this.vkCounter.value,loveCount:this.loveCount,restAccountsMailCount:this.restAccountsMailCount,accounts:this.accounts})}updateCounterMail(t){"number"==typeof t&&this.mailCount!==t&&(this.eventEmitter.emit(Lr.UpdateCounterMail,null,{count:t}),this.mailCount=t)}updateCounterLove(t){"number"==typeof t&&this.loveCount!==t&&(this.eventEmitter.emit(Lr.UpdateCounterLove,null,{count:t}),this.loveCount=t)}updateCounterGames(t){"number"==typeof t&&this.gamesCount!==t&&(this.eventEmitter.emit(Lr.UpdateCounterGames,null,{count:t}),this.gamesCount=t)}updateCounterMoyMir(t){"number"==typeof t&&this.moymirCount!==t&&(this.eventEmitter.emit(Lr.UpdateCounterMoyMir,null,{count:t}),this.moymirCount=t)}handleAuthChange(t,e){const n=ks(t),r=()=>({email:n,list:t?t.list:[]});if(this.ph.getListenersNumber(Mr.AuthChange)&&Es&&this.activeUser!==n)return(new Image).src=`//r3.mail.ru/k?auth=1&rnd=${Math.random()}`,void this.ph.emit(Mr.AuthChange,e,r());Es||!this.activeUser||n||this.ph.emit(Mr.InvalidServerSideAuth,null,r()),e()}handleUpdateAccount(t){this.handleAuthChange(t,(()=>{this.updateAccount(t)}))}updateAccount(t){if(this.parentActiveUser=t.email,this.activeUser=ks(t),this.restAccountsMailCount=t.mail_notifier?+t.mail_notifier:0,t.ldata){const e=function(t){const e=[];return t.list.forEach((n=>{const r=t.ldata[n].children;let o;r&&(o={},Object.entries(r).forEach((t=>{let[n,r]=t;e.push({user:n,firstName:r.first_name,lastName:r.last_name,mailCounter:r.mail_cnt,verified:!1,child:!0}),o[n]={firstName:r.first_name,lastName:r.last_name,mailCounter:r.mail_cnt,isActive:r.active}})));const i=t.ldata[n];e.push({user:n,firstName:i.first_name,lastName:i.last_name,mailCounter:i.mail_cnt,verified:i.verified,child:i.child,children:o})})),[...e.reduce(((t,e)=>(t.set(e.user,e),t)),new Map).values()]}(t);this.accounts=e;const n=e.find((t=>t.user===this.activeUser)),r=n.firstName?n.firstName:"",o=n.lastName?n.lastName:"";this.activeUserFullName=xs(r,o)}this.updateCounterMail(+t.mail_cnt),this.updateCounterMoyMir(+t.my_cnt),this.updateCounterGames(+t.games_cnt),t.ok_counters&&Object.values(t.ok_counters).length&&this.okCounter.updateData(t.ok_counters),t.vk_counters&&Object.values(t.vk_counters).length&&this.vkCounter.updateData(t.vk_counters),this.emitAccountDataUpdate()}handleClearAccount(){this.ph.getListenersNumber(Mr.AuthLost)&&this.activeUser?this.ph.emit(Mr.AuthLost,this.clearAccount,{}):this.handleAuthChange("",this.clearAccount.bind(this))}handleExpiredAccount(t){this.ph.authForm.show({type:"choice",email:t,from:"navi"})}clearAccount(){this.activeUser="",this.activeUserFullName="",this.parentActiveUser="",this.updateCounterMail(0),this.updateCounterLove(0),this.updateCounterGames(0),this.updateCounterMoyMir(0),this.okCounter.updateData({}),this.vkCounter.updateData({}),this.restAccountsMailCount=0,this.accounts=[],this.emitAccountDataUpdate()}}function ks(t){return t?t.active_email||t.email:""}class Is{constructor(t,e,n){this._ph=t,this._socialCountersSettings=e,this._isHideRightPart=n,document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this))}onVisibilityChange(){const t="hidden"!==document.visibilityState,e=this._socialCountersSettings.updateSocialCountersOnVisibilityChange?this._ph.getSocialsParams():null;if(this._ph.emit(Mr.VisibilityChange,null,{visible:t}),t){const t=this._ph.activeUser();t&&!this._isHideRightPart?(this._ph.switchAccount(t,!1,!1,e),e&&this._socialCountersSettings.isShowOkCounter&&ii("social_counters_visibility_change_ok"),e&&this._socialCountersSettings.isShowVKCounter&&ii("social_counters_visibility_change_vk")):this._ph.loadAccountInfo()}}}let Ts,js;window.__PH=new class extends class extends class{constructor(t){this._emitter=new Ir,this._instantEmitter=new Tr,this._instantEvents=t||[]}getListenersNumber(t){return this._getApiMethod(t,"getListenersNumber")(t)}on(t,e){return this._getApiMethod(t,"on")(t,e),this}removeListener(t,e){return this._getApiMethod(t,"removeListener")(t,e),this}once(t,e){return this._getApiMethod(t,"once")(t,e),this}emit(t,e,n){return this._getApiMethod(t,"emit")(t,e,n),this}_getApiMethod(t,e){return this._instantEvents.includes(t)?this._instantEmitter[e].bind(this._instantEmitter):this._emitter[e].bind(this._emitter)}}{constructor(t){let{extendedSettings:e,isDebug:n,siteId:r,isModern:o,experimentId:i}=t;super([Mr.InvalidServerSideAuth,Mr.ColorThemeChange]),this.xray=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return oi.setConfig({verbose:t,split:e||"",defaultParams:{p:"whiteline"+(r?"-lite":""),i:r?n:Yo[n]||"unknown"+(n?`_${n}`:""),skipdwh:!0}}),oi}(n,i,r),ii("load_inline"),ii(o?"is-modern":"is-legacy"),ii(`load_inline_${Ur.BUILD}`),(null==e?void 0:e.hasExternal)&&$r(e.bundleUrl,!0)}}{constructor(t){js=t,js||(console.warn("ERROR (PublicPH): no initial settings data"),js={siteId:"",siteZone:"",experimentId:"",isWhiteline:!0,isDebug:"",activeEmail:"",maxAccounts:"20",counters:{},experiments:{},colorTheme:sn.Default,social:{vk:!1,ok:!1,fb:!1},lang:Mn}),super({extendedSettings:t._,isDebug:!!js.isDebug,siteId:js.siteId,isModern:js.isModern,experimentId:js.experimentId}),this.authForm=new Ui(js),this.authMenu=new Di,this.marusiaMenu=new Ni,this.cookie=Object.assign(Ei,{s:Ii,fieldCookie:ki}),Ti()>1?(Ii.setGlobal("rt",1),Ii.setGlobal("dpr",Ti())):(Ii.removeGlobal("rt"),Ii.removeGlobal("dpr"));const e=new Tr;Ts=new Os({ph:this,eventEmitter:e,activeUser:js.activeEmail,authUrl:js.authUrl,socialCountersSettings:{isShowVKCounter:js.isShowVKCounter,isVKConnectForVKCounter:js.isVKConnectForVKCounter,isShowOkCounter:js.isShowOkCounter,isServerApiForOKCounter:js.isServerApiForOKCounter,isClientApiAfterServerApiForOKCounter:js.isClientApiAfterServerApiForOKCounter,socialCountersTimer:js.socialCountersTimer,updateSocialCountersOnVisibilityChange:js.updateSocialCountersOnVisibilityChange},stayInAccountList:js.stayInAccountListOnVisibilityChange}),this.accountService={onAccountDataUpdate:t=>e.on(Lr.AccountDataUpdate,t),on:(t,n)=>e.on(t,n),removeListener:(t,n)=>e.removeListener(t,n)},new Is(this,Ts.socialCountersSettings,js.isHideRightPart)}getSocialsParams(){return Ts.getSocialsParams()}loadAccountInfo(t,e){return Ts.loadAccountInfo(t,e)}loadAccountsList(t,e){return Ts.loadAccountsList(t,e)}switchAccount(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return Ts.switchAccountWithReload(t,e,r).then((t=>{t&&n&&!this.getListenersNumber(Mr.AuthChange)&&window.location.reload()}))}logoutAccount(t,e){return Ts.logoutAccount(t,e)}activeUser(){return Ts.activeUser}isMultiAuth(){return!!js.authGate}isAuthFormEnabled(){return!!js.authGate}isMarusiaMenuEnabled(){const t=this.activeUser(),e=js.lang===Mn;return!(!(js.isOnMarusia&&e&&t)||/(@vk|@ok|@fb)$/.test(t))}updateCounter(t){Ts.updateSomeCounters(t)}setColorTheme(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn.Default;this.emit(Mr.ColorThemeChange,null,{colorTheme:Object.values(sn).includes(t)?t:sn.Default})}}(window.__PHS),Object.freeze(window.__PH)}();
